"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.SQLite = void 0;
const kysely_1 = require("kysely");
const kysely_2 = require("./kysely");
const Database = require("better-sqlite3");
function SQLite(opts) {
    return (0, kysely_2.KyselyStore)({
        config: "database" in opts
            ? { dialect: new kysely_1.SqliteDialect({ database: opts.database }) }
            : { dialect: new kysely_1.SqliteDialect({ database: new Database(opts.filename, opts.config) }) },
        onInitError: opts.onInitError,
    });
}
exports.SQLite = SQLite;
